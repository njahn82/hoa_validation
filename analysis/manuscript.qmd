---
format:
  pdf:
    keep-tex: true
    fig_caption: yes
    template: apa6.sty
    extra_dependencies: ["flafter"]
csl: apa.csl
bibliography: references.bib
---


```{r, setup, echo=FALSE}
knitr::opts_chunk$set(
  comment = "#>",
  collapse = TRUE,
  warning = FALSE,
  message = FALSE,
  echo = FALSE,
  fig.width = 6,
  fig.asp = 0.618,
  out.width = "99%",
  fig.align = "center",
  dpi = 300,
  dev = c("png", "cairo_ps", "pdf"),
  fig.path = "fig/",
  fig.pos = "ht!", out.extra = ""
)
options(scipen = 999, digits = 2)
knitr::knit_hooks$set(
  inline = function(x) {
    if (is.numeric(x)) {
      return(prettyNum(x, big.mark = ","))
    } else{
      return(x)
    }
  }
)
```

```{r dependencies}
library(tidyverse, warn.conflicts = FALSE)
library(bigrquery)
library(kableExtra)
library(patchwork)
```

# Introduction

This study aims to demonstrate the suitability of open scholarly data sources for assessing the impact of transformative agreements on hybrid open access.
To achieve this, a replication study was conducted by comparing results from hoaddata, an openly available and continuously updated dataset on hybrid open access uptake based on Crossref, OpenAlex, and the cOAlition S Journal Checker Tool, with the established bibliometric databases Web of Science and Scopus.

This study focuses on the coverage of hybrid journal portfolios included in transformative agreements between 2019 and 2023.
Special attention is given to potential differences in open access uptake by country when comparing first-author affiliation data to corresponding authorships.
This is crucial because the lack of publicly available invoicing data corresponding to authorships plays an essential role in determining whether an open-access article is supported through transformative agreements.
Data on corresponding authorships have been available on the Web of Science and Scopus for much longer than in open databases such as OpenAlex, where this information is still being roled out at the time of writing.
Because of this weakness, open approaches such as hoaddata and related research use first-authorship data instead.

By conducting a large-scale comparative analysis, this study aims to

1. Determine the strengths and weaknesses of using open data sources in monitoring the impact of transformative agreements on hybrid open access publishing.
2. Assess the coverage and accuracy of open data sources compared with established bibliometric databases.
3. Evaluate the reliability of first author affiliation data as a proxy for corresponding authorship in the context of open access uptake analysis.  

# Background -- Evidence base to measure the effects of transformative agreements  

## Anforderungen an das Monitoring  

- esac guidelines 
- gemeinsamkeiten und unterschiede zu apc (listenpreise, tatsächliche zahlungen, zentrales invoicing, rabatte, waivers) 
- insitutionen covern cas, jedoch kann es zu unterschiedlichen verrechnugnsformen führen (antielig mit förderer, splitting innerhaklbd er einrichtung)  

## Bibliometrische Evidenzen  

- allgmeeiner uptake 
- wachstum apcs 
- wachstum verträge (konsortien, forschung) 
- konsequenzen  

# Data and methods

This study aims to demonstrate the suitability of open scholarly data sources for assessing the impact of transformative agreements on hybrid open access.
As shown in Figure \ref{fig:workflow}, the methodology involved comparing hoaddata, an openly available collection of open research information on hybrid open access, with the bibliometric databases Web of Science and Scopus.
The subsequent section, introduces the initial data sources followed by a presentation of the necessary pre-processing steps to obtain eligible articles from transformative agreements by using author roles (first and corresponding) and harmonised affiliation data.
<!-- Overall, xxxx hybrid journals from xxx agreements that published at least one open access article between 2019 and 2023. formed the basis of this study. -->

<!-- Replication studies, which can be found in the Life, Natural and Social Sciences, typically employ the same or comparable methods as the original study to determine whether consistent results can be obtained (https://pmc.ncbi.nlm.nih.gov/articles/PMC10019630/). 


This study compares results drawn from the openly available and regularly updated hoaddata, an R package leveraging the open scholarly data sources Crossref and OpenAlex, with the in-house database of the German Competence Network for Bibliometrics (Kompetenznetzwerk Bibliometrie, KB), which comprises Web of Science and Scopus snapshots.
After describing the initial data sources used, the necessary pre-processing steps to obtain eligible articles from transformative agreements using author roles (first and corresponding) and affiliation data are presented.
Overall, xxxx hybrid journals from xxx agreements formed the basis of this study. This study covered journal articles published between 2019 and 2023.   -->

\begin{figure}[htbp]
\centering
\begin{tikzpicture}[node distance=2cm, thick,scale=1, every node/.style={scale=0.9}]    
% Data Sources
    \node (crossref) [datasource] {Crossref};
    \node (openAlex) [datasource, right=of crossref] {OpenAlex};
    \node (jct) [datasource, right=of openAlex] {JCT};
    \node (wos) [datasource, below=of crossref] {Web of Science};
    \node (scopus) [datasource, below=of jct] {Scopus};
    
    % Processing Steps
    \node (hoaddata) [datasource, below=1.5cm of $(crossref)!1!(openAlex)$] {hoaddata};
    \node (kb) [process, below=1cm of $(wos)!0.5!(scopus)$] {Journal and article retrieval (including open access)};
    
 % Matching Process - Fixed line break syntax
    \node (matching) [process, below=1.5cm of $(hoaddata)!1!(kb)$] {Harmonising author affiliations through RoR};

 % Aggregation
    \node (transmatch) [process, below=1.5cm of $(matching)!1!(matching)$] {Estimate TA output};
        
    % Output
    \node (analysis) [output, below=1.5cm of $(transmatch)!1!(transmatch)$] {Aggregated analytical datasets};
    
    % Arrows
    \draw [arrow] (crossref) -- (hoaddata);
    \draw [arrow] (openAlex) -- (hoaddata);
    \draw [arrow] (jct) -- (hoaddata);
    \draw [arrow] (hoaddata) -- (kb);
    \draw [arrow] (wos) -- (kb);
    \draw [arrow] (scopus) -- (kb);
    \draw [arrow] (kb) -- (matching);
    \draw [arrow] (matching) -- (transmatch);
    \draw [arrow] (transmatch) -- (analysis);

    
    % Legend
    \node [datasource, scale=0.7] at ($(analysis)+(4,0)$) {Data Sources};
    \node [process, scale=0.7] at ($(analysis)+(4,-1)$) {Processing Steps};
    \node [output, scale=0.7] at ($(analysis)+(4,-2)$) {Output};
\end{tikzpicture}
\caption{Data processing workflow for comparing hybrid open access uptake across bibliometric data sources. The workflow shows how data from different sources (Crossref, OpenAlex, JCT, Web of Science, and Scopus) is processed and matched using ROR identifiers to enable comparative analysis. TA = Transformative Agreement}
\label{fig:workflow}
\end{figure}

## Data sources  

### hoaddata 

hoaddata, developed and maintained by the author to support open access monitoring and research [@Jahn_2025], is an R data package comprising information about the uptake of hybrid open access since 2017 from several openly available data sources.
It combines article-level metadata from Crossref and OpenAlex with transformative agreement information from the cOAlition S Journal Checker Tool (JCT), which links journal and institutional data to agreements in the ESAC registry.

More specifically, hoaddata uses a unified dataset of historic JCT snapshots since July 2021, which were enriched ISSN variants linked to an ISSN-L and associated ROR-IDs representing university hospitals or institutes of large research organisations, according to OpenAlex' institution entity.
A comprehensive exclusion of fully open access journals using  multiple journal lists (DOAJ, OpenAlex, Bielefeld)  was performed to identify hybrid journals, as described in @Jahn_2025.
hoaddata relies on Crossref for obtaining journal publication volume and open access status through Creative Commons licence information relative to the published version ("version of record").
Because of limited affiliation metadata in Crossref [@van_Eck_2022], hoaddata sources first-author affiliations from OpenAlex.

<!--While the country in which a first-author was located was used to aggregate country-level statistics, Research Organization Registry (ROR) identifiers (ROR-ID) were used in conjunction with ESAC registry information on the duration of an agreement was used to estimate whether an article was published under active transformative agreements.
This matching benefited from the availability of the ROR-IDs in both sources.
To improve the matching, JCT data were enriched to include associated institutions, such as unviersity hospitals.-->

hoaddata follows good practices for computational reproducibility using R [@Marwick_2018].
The package, which includes data, code, a test suite and documentation, is openly available on GitHub.
To ensure computational reproducibility while aggregating the data, a GitHub Actions continuous integration and delivery (CI/CD) workflow interfaces with the SUB Göttingen's open scholarly data warehouse based on Google BigQuery, which provides high-performant programmatic access to monthly snapshots of Crossref and OpenAlex.
The workflow has run regularly to fetch updates from these data sources since 2022.
The package version used in this study is 0.3, containing data from the Crossref 2024-08 dump provided to Crossref Metadata Plus subscribers and the OpenAlex 2024-08-29 monthly dump.
This version including the computation log is available on GitHub (https://github.com/subugoe/hoaddata/releases/tag/v.0.3).

### Web of Science

Clarivate Analytics' Web of Science (WoS) is a well-established proprietary bibliometric database consisting of several collections [@Birkle_2020]. 
The collections considered in this study were the Science Citation Index Expanded (SCIE), the Social Sciences Citation Index (SSCI) and the Arts & Humanities Citation Index (AHCI), collectively referred to as Web of Science Primary (WoS Primary).

The WoS Primary provides important data points for analysing open access: author affiliations and roles, differentiation of journal articles into document types representing different types of journal contributions, such as original articles or reviews, and open access status information derived from OurResearch's Unpaywall, the same provider as Openalex.
However, it lacks information about journals and articles under transformative agreements.

For programmatic access to article-level data, this study used the database of the Kompetenznetzwerk Bibliometrie (KB) in Germany. The KB processes raw XML data provided by Clarivate Analytics, which is provided as an in-house PostgreSQL database under a uniform schema.
To support reproducibility, KB maintains annual snapshots of the database. 
Accordingly, this study used the annual snapshot from April 2024 (wos_b_202404), which is considered to cover almost the entire previous publication year [@schmidt_2024_13935407].

### Scopus

Elsevier's Scopus, launched in 2004, is another widely used proprietary bibliometric database for measuring research [@Baas_2020].
Similar to the Web of Science, Scopus is selective with regard to the journals it indexes.
However, its coverage is substantially more extensive than that of the Web of Science collections considered in this study [@Singh_2021; @Visser_2021].
With detailed metadata about article types, open access status information derived from Unpaywall, author roles, and disambiguated affiliations, Scopus also contains important data to assess open access uptake, although no direct information regarding transformative agreements was available at the time of the study.

This study used the Scopus annual snapshot of April 2024 as provided by the KB (scp_b_202404). The same KB curation effort was applied to the  Scopus raw data as for the Web of Science [@schmidt_2024_13935407].

## Data processing steps  

### Determining hybrid journal publication volume

The hoaddata package (v.0.3) provided an enriched and unified list of hybrid journals in transformative agreements according to the JCT, covering agreements active from July 2021 to July 2024 according to the ESAC registry.
<!-- This study examined the adoption of open access for hybrid journals included in transformative agreements, which published at least one journal article in the five-year period 2019-2023. 
The initial data source was the Transformative Agreements Public Data from the cOAlition S Journal Checker Tool (JCT), which helps authors identify suitable open access publishing venues, as provided by hoaddata.
 Weekly snapshots of this data were archived using an automated GitHub Actions workflow (https://github.com/njahn82/jct_data) and into hoaddata.
The JCT data used in the examined hoaddata version, which was enriched with linking ISSN (ISSN-L) and ROR-IDs from associated institutions before inclusion, cover agreements active from July 2021 to July 2024. -->

<!-- The JCT journal data was enriched with the linking ISSN (ISSN-L) according to the ISSN Registry Agency.
A comprehensive exclusion of fully open access journals was performed, following the methodology described in @jahn_2025.
This involved checking multiple journal lists (DOAJ, OpenAlex, Bielefeld) and article-level investigations.
The JCT institution data was enriched with ROR-IDs from associated institutions, such as university hospitals or institutes of large research organisations such as the Max Planck Society, according to OpenAlex' institution entity.
<!-- In total, xxxx hybrid journals could be linked to xxx agreements listed in the ESAC Transformative Agreements Registry, which formed to basis for obtaining article-level data including author affiliations, open access status ans document types. -->
Article metadata was retrieved from each databse using all ISSN variants linked to an ISSN-L. The metadata included DOIs, publication dates, article types, open access information as well as author roles and institutional affiliations.

The publication year for each article was determined using the earliest known publication date. 
For articles in hoaddata, this corresponded to Crossref's issued date. 

Publication years were determined using the earliest known date of publication in a journal.
In the case of Crossref, the article data source for hoaddata, this was the issued date<!--, although variations were observed (check ref)-->.
For Web of Science and Scopus, the earliest publication date was used where available, with Scopus dates specifically determined by the KB through version tracking of the raw data.

Many transformative agreements typically cover only certain types of journal
articles, in particular original research articles including reviews.
Because of limited information on these document types in open scholarly data [@Haupka_2024], hoaddata used an extended version of Unpaywall's paratext recognition approach to exclude non-scholarly content [@Piwowar_2018].
To exclude conference supplements, which are also often not covered by transformative agreements, only articles published in regular issues, indicated by numerical pagination, were considered.
For Web of Science and Scopus, their established document type classifications were used to identify original research articles and reviews, referred to as core articles throughout this study.

<!-- literature to check https://direct.mit.edu/qss/article/3/1/99/109079/The-prevalence-and-impact-of-university-->

### Identifying open access articles in hybrid journals

Published articles were considered hybrid open access  when they were made freely available under a Creative Commons license on publishers' platforms. 
While hoaddata sourced this information from Crossref license metadata, Web of Science and Scopus relied on Unpaywall. 
Unpaywall supplements Crossref metadata by parsing publisher websites directly, addressing cases where publishers do not provide machine-readable Creative Commons license information [@Piwowar_2018]. 
This additional parsing remains necessary despite transformative agreement workflows requiring license information during DOI registration [@Geschuhn_2017].
Both Web of Science and Scopus defined hybrid open access consistently as content available under Creative Commons licenses on publisher platforms, distinguishing it from bronze open access that lack such explicit license information.

### Harmonising author affiliations across databases

```{r cache=TRUE}
# Article level data TA
ta_oa_inst <- readr::read_csv(here::here("data-raw", "ta_oa_inst.csv"))
```
Author affiliations were retrieved for both first and, if available, corresponding authors across all databases to prepare the linking between articles and institutions covered by transformative agreements.
To handle different address variants, database-specific affiliation identifiers were used: ROR-IDs from OpenAlex for hoaddata, affiliation enhanced names for Web of Science, and Scopus Affiliation Identifiers for Scopus.
Additionally, ISO country codes were retrieved for each author's address to compile country-level statistics. 
These country codes for Web of Science and Scopus were provided by the KB.

Because neither Web of Science nor Scopus support ROR IDs—the institution identifier used by the JCT—a two-step matching process was implemented to harmonise affiliation data.
First, `r length(unique(ta_oa_inst$doi))` articles from `r length(unique(ta_oa_inst$ror))` institutions with ROR-IDs in the JCT data since 2017 (according to hoaddata) were processed to map first authors' ROR-IDs to corresponding proprietary affiliation identifier in Web of Science and Scopus using DOI matching.
Then, an algorithm selected the most frequent ROR ID and proprietary identifier pairs to handle multiple affiliations and organisational hierarchy differences.

```{r aff_evaluation}
scp_ror <- readr::read_csv(here::here("data-raw", "scp_wos_matching.csv")) 
wos_ror <- readr::read_csv(here::here("data-raw", "ror_wos_matching.csv")) 
```

This process linked `r length(unique(scp_ror$ror))` ROR IDs to  `r length(unique(scp_ror$vendor_org_id))` Scopus Affiliation IDs, and  `r length(unique(wos_ror$ror))` ROR IDs to `r length(unique(scp_ror$vendor_org_id))` enhanced affiliation strings in the Web of Science. 
Quality evaluation through random sampling of 50 pairs revealed an error rate of 22% for Web of Science (11 mismatches) and 6% for Scopus (3 mismatches). 
Upon inspection, these mismatches primarily occurred with less-represented institutions having only a few publications, introduced through multiple affiliations of single authors. 
The difference between databases suggests that Scopus's affiliation control aligns more closely with ROR than that of the Web of Science.

### Estimating open access in hybrid journals covered by transformative agreements

Based on these matching tables, articles eligible under transformative agreements could also be retrieved from Web of Science and Scopus, although they did not contain the ROR IDs used by the JCT. 
The estimation of eligible articles followed @Jahn_2025 and included a matching of both journals and participating institutions according to the Transformative Agreement Data dump for each of the data sources examined.
The matching also took into account the duration of agreements according to the ESAC registry, with only those matches where an agreement was actually in place being considered for subsequent analysis.

## Data records 

As a result of the comprehensive data processing described above, datasets on open access in hybrid journals included in transformative agreements were produced for each database at country and journal level by year.
@tbl-methods_overview_tab provides a general overview of the coverage between 2019 and 2023 per database.
It shows that the majority of hybrid journals published at least one original article or review marked as core during the five-year period.
These journals formed the basis for the subsequent aggregation of publication metrics.  

```{r methods_overview_tab}
#| label: tbl-methods_overview_tab
#| tbl-cap: "Coverage of hybrid journals in transformative agreements 2019-23."
load(here::here("data", "manuscript_data.Rda"))
methods_overview_table_df <- bind_rows(
  # Journals
  jns_ind,
  # Articles
  articles_ind,
  # OA
  oa_articles_ind,
  # Affiliation and Auhtor roles
  aff_ind
) |>
  # Human-readable indicator labels
  mutate(
    indicator = case_when(
      indicator == "ind_active_jns" ~ "Active journals",
      indicator == "ind_active_jns_core" ~ "Active journals (core)",
      indicator == "ind_active_jns_core_with_oa" ~ "Active journals (core) with OA",
      indicator == "ind_articles_total" ~ "Total published articles ",
      indicator == "ind_articles_core" ~ "Core articles",
      indicator == "ind_articles_doi" ~ "Articles with DOI",
      indicator == "ind_articles_core_doi" ~ "Core articles with DOI",
      indicator == "ind_oa_articles_all" ~ "OA articles",
      indicator == "ind_oa_articles_core" ~ "Core OA articles",
      indicator == "first_aff" ~ "First author articles",
      indicator == "cor_aff" ~ "Corresponding author articles",
    )
  )

kableExtra::kbl(
  methods_overview_table_df,
  booktabs = TRUE, 
  format.args = list(big.mark = ","), 
  digits = 1, 
  escape = TRUE, 
  position = "H",
  col.names = c("", "HOAD", "Web of Science", "Scopus")
) |>
  kable_styling(position = "center") |>
  row_spec(0, bold = TRUE) |>
  pack_rows("Hybrid journal metrics", 1, 3) |>
  pack_rows("Publication metrics", 4, 5) |>
  pack_rows("Digital Object Identifier (DOI) coverage", 6, 7) |>
  pack_rows("Open Access (OA) metrics", 8, 9) |>
  pack_rows("Core articles with affiliation data", 10, 11) 
```

While hoaddata only covers articles with a DOI, the Scopus and Web of Science figures were also aggregated using the database identifier.
A subsequent comparison of DOI coverage shows that non-core articles in Web of Science often lacked a DOI.
This was particularly the case for meeting abstracts, a particular feature of this database.
Open access indicators were aggregated by DOI, as Unpaywall only collects information on open access status for articles with a DOI.
A closer look at the core articles with affiliation data reveals a lack of data on corresponding authors in the case of OpenAlex, the affiliation data source used by hoaddata, compared to Web of Science and Scopus.
Only about two-thirds of the articles examined provided corresponding author affiliations.
For first authors, the proportion was `r methods_overview_table_df |> filter(indicator == "First author articles") |> pull(hoad) / methods_overview_table_df |> filter(indicator == "Core articles with DOI") |> pull(hoad) * 100`%.
Accordingly, only first author data for hoaddata are considered in the following analysis. 

# Results  

# discussion